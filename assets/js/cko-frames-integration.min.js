jQuery((function(){jQuery("input[type=radio][name=wc-wc_checkout_com_cards-payment-token]").prop("checked",!1),jQuery(".payment_box.payment_method_wc_checkout_com_cards > ul").css("margin","auto"),"undefined"!=typeof Frames&&Frames.removeAllEventHandlers(),Frames.init({debug:"yes"===document.getElementById("debug").value,publicKey:document.getElementById("public-key").value,localization:document.getElementById("localization").value});let e=document.getElementById("billing_first_name")?.value+" "+document.getElementById("billing_last_name")?.value;if(Frames.addEventHandler(Frames.Events.CARD_VALIDATION_CHANGED,(function(t){Frames.isCardValid()&&e.length>0&&(Frames.cardholder={name:e})})),Frames.addEventHandler(Frames.Events.CARD_TOKENIZED,(function(e){0!==document.getElementById("cko-card-token").value.length&&document.getElementById("cko-card-token").value==e.token||(document.getElementById("cko-card-token").value=e.token,document.getElementById("cko-card-bin").value=e.bin,jQuery("#place_order").trigger("click"),document.getElementById("cko-card-token").value="",Frames.enableSubmitForm())})),1==document.getElementById("multiFrame").value){var t=function(){var e={"card-number":{src:"card",alt:"card number logo"},"expiry-date":{src:"exp-date",alt:"expiry date logo"},cvv:{src:"cvv",alt:"cvv logo"}};return e}();var a={};function c(e){document.getElementById("icon-"+e+"-error").style.removeProperty("display")}function n(e,t){e&&e.classList.add("show");var a=document.getElementById("logo-payment-method");if(t){var c=t.toLowerCase(),n=document.getElementById("cko-icons").value;a.setAttribute("src",n+c+".svg"),a.setAttribute("alt",t||"payment method")}a.style.removeProperty("display")}function r(e){e&&e.classList.remove("show"),document.getElementById("logo-payment-method").style.setProperty("display","none")}a["card-number"]="Please enter a valid card number",a["expiry-date"]="Please enter a valid expiry date",a.cvv="Please enter a valid cvv code",Frames.addEventHandler(Frames.Events.FRAME_VALIDATION_CHANGED,(function(e){var a=e.element;e.isValid||e.isEmpty?("card-number"!=a||e.isEmpty||n(),d="icon-"+(o=a),m=document.getElementById(d),u=document.getElementById("cko-icons").value,m.setAttribute("src",u+t[o].src+".svg"),m.setAttribute("alt",t[o].alt),c(a)):("card-number"==a&&r(),function(e){var a="icon-"+e,c=document.getElementById(a),n=document.getElementById("cko-icons").value;c.setAttribute("src",n+t[e].src+"-error.svg"),c.setAttribute("alt",t[e].alt)}(a),function(e){document.getElementById("icon-"+e+"-error").style.setProperty("display","block")}(a));var o,d,m,u})),Frames.addEventHandler(Frames.Events.PAYMENT_METHOD_CHANGED,(function(e){var t=e.paymentMethod;let a=document.querySelector(".icon-container.payment-method");t?(c("card-number"),n(a,t)):r(a)}))}function o(){document.getElementById("user-logged-in").value?jQuery(".cko-save-card-checkbox").show():jQuery(".cko-save-card-checkbox").hide()}setTimeout((function(){jQuery(".payment_box.payment_method_wc_checkout_com_cards").children("ul.woocommerce-SavedPaymentMethods.wc-saved-payment-methods").attr("data-count")>0?(jQuery(".cko-form").hide(),jQuery("input[type=radio][name=wc-wc_checkout_com_cards-payment-token]").change((function(){"new"==this.value?(jQuery(".cko-form").show(),o(),jQuery(".cko-cvv").hide()):(jQuery(".cko-form").hide(),jQuery(".cko-save-card-checkbox").hide(),jQuery(".cko-cvv").show(),1===document.getElementById("is-mada").value&&(this.value===document.getElementById("mada-token")?(jQuery(".cko-form").hide(),jQuery(".cko-cvv").show()):jQuery(".cko-cvv").hide()))}))):(jQuery(".cko-form").show(),o(),jQuery("input[type=radio][name=wc-wc_checkout_com_cards-payment-token]").prop("checked",!0)),jQuery("#add_payment_method").length>0&&(jQuery(".woocommerce-SavedPaymentMethods.wc-saved-payment-methods").hide(),jQuery(".cko-save-card-checkbox").hide(),jQuery(".cko-form").show()),jQuery("#place_order").on("click",(function(e){if(jQuery("#payment_method_wc_checkout_com_cards").is(":checked")){if(jQuery("#wc-wc_checkout_com_cards-payment-token-new").length>0)if(jQuery("#wc-wc_checkout_com_cards-payment-token-new").is(":checked")){if(document.getElementById("cko-card-token").value.length>0)return!0;Frames.isCardValid()?Frames.submitCard():Frames.isCardValid()||alert(document.getElementById("card-validation-alert").value)}else{if(!(jQuery("#add_payment_method").length>0))return!0;jQuery("#payment_method_wc_checkout_com_cards").is(":checked")&&(Frames.isCardValid()?Frames.submitCard():alert(document.getElementById("card-validation-alert").value))}else{if(document.getElementById("cko-card-token").value.length>0)return!0;Frames.isCardValid()?Frames.submitCard():Frames.isCardValid()||alert(document.getElementById("card-validation-alert").value)}return!1}}))}),0)}));